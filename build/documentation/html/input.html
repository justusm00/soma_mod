<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: XML Input Format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">XML Input Format </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >SOMA offers a designated input format. The purpose of this format is to be human readable in contrast to the hdf5 input files, which are optimized for the computation, both IO wise and optimal for computational purposes. For this reason the hdf5 file format might change at any time, if the performance can be increased with these changes. On the other hand to offer stability for the user the helper scripts and the XML format should change as less as possible.<br  />
 On this page we describe the input format, so that any user can create its own input file for her/his purpose.</p>
<h1><a class="anchor" id="example"></a>
Example Input File</h1>
<p >The input format is based on <a href="https://en.wikipedia.org/wiki/XML">xml</a> and for the description we use an ASCII representation of Molecules that is inspired by the <a href="http://jcheminf.springeropen.com/articles/10.1186/1758-2946-3-1">Curley-Smiles</a> standard.</p>
<pre class="fragment">\note We do not cover the full Curley-Smiles spectrum and we have our own flavor.

An example input for a small system of linear diblock-copolymers may look like:

\include coord.xml

But let us discuss the tags step by step. In general the order of
the tags is without meaning, while the hierachy is not. There are
a few execeptions, where is order has a meaning. If there are more
than one tag of the same type on the same hierachy level, usually
their context will be summarized. In addition, in the "text" region of xml tags usually blank or lines beginning with '#' are ignored.

- \code &lt;xml&gt;\endcode introduces the file as xml
- \code &lt;soma&gt; \endcode Specifies that this xml is a SOMA input file. This tag is the root for all other tags. Anything outside will be ignored.
- \code &lt;interactions&gt;\endcode Is defining the interaction of the particle of different types. There are 3 sub-tags expeceted:
  -\code &lt;kappaN&gt;\endcode Defines \f$ \kappa N\f$ the interaction between particles of the same type.
  -\code &lt;chiN&gt; \endcode Defines \f$ \chi N\f$, the interaction
   between 2 different particle types. The syntax is line based
   and expects "typeA typeB value" for each unequal type. If you
   specify \f$ \chi N \f$ for equal or \a equivalent particle
   types the parsing will fail.
   \note \f$ N \f$ of \f$ \chi N \f$ and \f$ \kappa N\f$ refers to the reference N.
 - \code &lt;bonds&gt;\endcode Specifies the bond type between any half-bond type. The syntax is line based and expectes "typeA typeB bond-type".
- \code &lt;A&gt; \endcode Defines the mobility of the different particle
  types in the smart Monte-Carlo moves. The syntax is line based and
  expects "type value", where value is the friction of the Langevin
  Dynamics.
  \note The value corresponds to "dt*N/xi" of the old format divided by "reference_Nbeads"

  Alternatively, you specify after your text based input an \code &lt;dt&gt; \endcode tag.
  This value is exactly identical to the input "dt*N/xi" of the old input format.
  If this tag is specified the default "A" for every type is calculated. You may omit
  any text input if you like the default value. But with the text you can overwrite the
  mobility for any type.
  \warning The order of text based input and "dt" tag is important. First specify the text based input.
  After the text you can add a "dt" tag.
  \note You may specify a mobility of zero for a type, to get an immobile anchor.
  Which can be desired for the end monomer of a brush.
- \code &lt;time&gt; \endcode Defines the timestep of the configuration.
- \code &lt;hamiltonian&gt; \endcode Defines the non bonded hamiltonian of the configuration.
If not specified the default "SCMF0" is selected. For options refer "enum Hamiltonian" in struct.h.
- \code &lt;reference_Nbeads&gt; \endcode Defines the number of
  reference beads of the configuration. All values that depend on
  a number of monomers refer to this value. This is required
  because SOMA supports the simulation of multiple chain
  architectures with varying number of monomers.

  \note Even the length unit depends on this value, because the
   length unit is in units of \f$ Re \f$, which is defined by a number of
    beads.
- \code &lt;lxyz&gt; \endcode X,Y,Z of the box dimensions in units of \f$ Re \f$.
- \code &lt;nxyz&gt; \endcode X,Y,Z of the grid dimensions in grid units.
- \code &lt;poly_arch&gt; \endcode Curley-Smiles description of a simple linear diblock-copolymer.
  For more details refer to \ref curley-smiles
- \code &lt;analysis&gt; \endcode Description of Analysis elements.
  - SOMA uses a separate analysis file to observable states of the simulation on the fly.
  - To describe, which observable is analysed how, this section is used.
  - Each Oberservable has its own tag and all modifier go there.
  - Inside of an observable tag, each new tag is interpreted as an individual hdf5 attribute for the element.
    - The tag is the Name of the attribute and the content is converted via numpy.loadtxt to a matrix of integer as attr data.
  - \code DeltaMC \endcode Each obs has an DeltaMC field. This specifies how often in MC steps this obs is analysed.
  - \code end_mono \endcode Is a special attribute of the "Re" observable. Specifying which monomers of a polytype are considered as "end-monomers".
    Matrix shape, should be n_poly_types x 2. The first dimension is counting the poly_type the second start and end monomer. Refer the complex example for an example.
  - \code &lt;dynamical_structure_factor&gt; (&lt;static_structure_factor&gt;) \endcode measures the dynamical structure factor (static structure factor) of each type of polymer and save if to ana file.
    - \code &lt;DeltaMC&gt; \endcode defines the frequency where the RCMs are checked and the rules applied.
    - \code &lt;q&gt; \endcode defines the norm of the scattering vector. With given norm q, the dynamical structure factor will be calculated with randomly generated q_x,q_y,q_z(three components of the scattering vector) uniformly distributed in spherical coordinate. This measurement will be repeated N times and the result is the average of the N values. The number of random scattering vector N is set to 32 as default and can be changed as command line argument when starting SOMA.


\subsection confgen.py The Conversion Script.
This example should give you a rough overview over the input
format. Such a file can be converted by the "./ConfGen.py" script.
\code ./ConfGen.py -i coord.xml -o coord.h5 \endcode
The resulting hdf5 file can be used as an input hdf5 for the SOMA tool.

It will not generate the position for all beads, but SOMA detects
the lack of beads and automatically generates this information at
the startup.
\warning Be careful if you set up configuration containing rings. The random scheme recursively generate

The script can also be used to change parameter of an existing hdf5 ("old.hdf5") configuration. The procedure is as follows:
- Prepare a xml file containing all information of your existing configuration.
\warning You cannot leave out any data field.
- Modify this file according to your needs. ("mod.xml")
- Run the script:
\code ./ConfGen.py -i mod.xml -o old.hdf5 --udpate\endcode

The script compares the parameter of the xml file with hdf5 file
and updates any differences. The script prints out messages about
changed fields.&lt;br&gt; You can change almost any parameter except the
number of total polymers, the number of polymer architectures and
the number of monomers for each polymer. An AssertionError will be
raised if you try such a modification and the original hdf5 is
kept unchanged.
</pre> <h1><a class="anchor" id="curley-smiles"></a>
SOMA Flavor of Curley Smiles</h1>
<p >To enable you to describe you molecule for SOMA in a human- and machine-readable way SOMA uses its own flavor of the Curley-Smiles standard to describe your molecule architecture with characters.<br  />
</p>
<p >A molecule is described by a single line. The first part of the line specifies the number of molecules of this type. This is followed by a Curley-Smiles string to describe the molecule architecture.<br  />
</p>
<p >In general the basis of each molecule is here a main backbone of a linear molecule. In addition, you can specify branches of this backbone (and inside branches) and additional bonds on branch level. This enables almost any molecule architecture. (But not all architectures.)</p>
<p >To achieve this there are two basic elements of which a every molecule description is composed.</p><ul>
<li>A molecule part. This specifies a linear piece of a molecule. And defines additional connections. Such a molecular part has 3 region and no whitespaces.<ul>
<li>The first region is the name of the monomer type. The is a string enclosed by "'". Inside you can use any number of whitespaces.</li>
<li>The second region is a list of additional bond tags. These tags are integer number and are separated by the "%" character. The scope of this tags is the branch, so you can overshadow an index in following branches. In this branch additional bond between monomers with the same tag are introduced. The "0" tag is special. Any monomer has to have this tag, but it introduces no additional bond.</li>
<li>The last region is the "Curley" part. In curly brackets "{}" enclosed is an integer number which specifies the repetition of this linear segment.</li>
</ul>
</li>
<li>A branch is enclosed by normal brackets "()" and encloses any number of molecule parts and branches. A closing branch ")" is followed by a curly repetition region, which specify how many of the branches are used. After a branch another branch or a molecule part follows.</li>
</ul>
<p >To make the life of you easier you can apply a number of abbreviation to your Curly-Smiles string.</p><ul>
<li>The tag "0" of every monomer can be left out.</li>
<li>The "%" at the end of a tag list is optional</li>
<li>If your type name is a single "alpha"-character you can omit the enclosing "'".</li>
<li>If you want a repetition of 1, you can omit the "{1}".</li>
</ul>
<h2><a class="anchor" id="example-mol"></a>
Example Molecules</h2>
<p >Here are a few examples of increasing complexity.</p><ul>
<li><div class="fragment"><div class="line">100 A{16}B{16}</div>
</div><!-- fragment --> are 100 diblock copolymers with 16 A monomers followed by 16 B monomers.</li>
<li><div class="fragment"><div class="line">100 A{16}(B{16})C{16}</div>
</div><!-- fragment --> are 100 star polymers with 3 arms of 16 monomers each. The type of the branches is A,B,C respectively. An equivalent description is <div class="fragment"><div class="line">100 A{16}(B{16})(C{16})</div>
</div><!-- fragment --></li>
<li><div class="fragment"><div class="line">100 A1A{28}A1 </div>
</div><!-- fragment --> are 100 rings of 30 A monomers.</li>
<li><div class="fragment"><div class="line">100 A{16}(B{4}){10} </div>
</div><!-- fragment --> are 100 linear A strands of 16 monomers, which branch into 10 equal branches of 4 B monomers.</li>
<li><div class="fragment"><div class="line">1 A1A2A1{2}(<span class="charliteral">&#39;B&#39;</span>{2}A1(<span class="stringliteral">&#39;Qe&#39;</span>{2}){2}AB1){2}A1%2</div>
</div><!-- fragment --> A drawing of this input molecule looks like: <div class="dotgraph">
</div>
 <dl class="section note"><dt>Note</dt><dd>If you like a graphical representation of your molecule, run <div class="fragment"><div class="line">./ConfGen.py --dot-graph </div>
</div><!-- fragment --> with the corresponding flag. You will get for each molecule a "dot" representation of your molecule. Using the "dot" tool from the Graphviz package you can convert this output to visual graphs.</dd></dl>
</li>
</ul>
<h2><a class="anchor" id="complex"></a>
A More Complex Example</h2>
<p >Here we show a more complex input file, which uses a few more options and tags. </p><div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;UTF-8&quot;</span> <span class="keyword">standalone</span>=<span class="stringliteral">&quot;yes&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">soma</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;0.2.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">interactions</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">kappaN</span>&gt;</div>
<div class="line">      30</div>
<div class="line">    &lt;/<span class="keywordtype">kappaN</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">chiN</span>&gt;</div>
<div class="line">      <span class="keyword">A</span> <span class="keyword">B</span> 20</div>
<div class="line">    &lt;/<span class="keywordtype">chiN</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">bonds</span>&gt;</div>
<div class="line">    <span class="keyword">A</span> <span class="keyword">A</span> <span class="keyword">harmonic</span></div>
<div class="line">    <span class="keyword">A</span> <span class="keyword">B</span> <span class="keyword">harmonic</span></div>
<div class="line">    <span class="keyword">A</span> <span class="stringliteral">&#39;Qe&#39;</span> <span class="keyword">HARMONICVARIABLESCALE</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">B</span> <span class="keyword">B</span> <span class="keyword">harmonic</span></div>
<div class="line">    <span class="keyword">B</span> <span class="stringliteral">&#39;Qe&#39;</span> <span class="keyword">harmonic</span></div>
<div class="line"> </div>
<div class="line">    <span class="stringliteral">&#39;Qe&#39;</span> <span class="stringliteral">&#39;Qe&#39;</span> <span class="keyword">harmonic</span></div>
<div class="line">    &lt;/<span class="keywordtype">bonds</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">interactions</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">equivalent_particle_types</span>&gt;</div>
<div class="line">    <span class="keyword">A</span> <span class="stringliteral">&#39;Qe&#39;</span></div>
<div class="line">  &lt;/<span class="keywordtype">equivalent_particle_types</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">A</span>&gt;</div>
<div class="line">    # <span class="keyword">mobility</span> <span class="keyword">of</span> <span class="keyword">A</span> <span class="keyword">is</span> <span class="keyword">overwritten</span></div>
<div class="line">    <span class="keyword">A</span> 0.003</div>
<div class="line"> </div>
<div class="line">    # <span class="keyword">B</span> <span class="keyword">uses</span> <span class="keyword">the</span> <span class="keyword">default</span> <span class="keyword">mobility</span> <span class="keyword">of</span> <span class="keyword">dt</span>,</div>
<div class="line">    # <span class="keyword">because</span> <span class="keyword">it</span> <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">mentioned</span> <span class="keyword">in</span> <span class="keyword">the</span> <span class="keyword">list.</span></div>
<div class="line">    &lt;<span class="keywordtype">dt</span>&gt;</div>
<div class="line">      0.17</div>
<div class="line">    &lt;/<span class="keywordtype">dt</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">A</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">time</span>&gt;</div>
<div class="line">    42</div>
<div class="line">  &lt;/<span class="keywordtype">time</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">harmonicvariablescale</span>&gt;</div>
<div class="line">    1.25</div>
<div class="line">  &lt;/<span class="keywordtype">harmonicvariablescale</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">poly_arch</span>&gt;</div>
<div class="line">    200 <span class="keyword">A1A2A1</span>{2}(<span class="stringliteral">&#39;B&#39;</span>{2}<span class="keyword">A1</span>(<span class="stringliteral">&#39;Qe&#39;</span>{2}){2}<span class="keyword">AB1</span>){2}<span class="keyword">A1</span>%2</div>
<div class="line">    11 <span class="keyword">A</span>{64}<span class="keyword">B</span>{64}</div>
<div class="line">    11 <span class="keyword">B</span>{64}<span class="keyword">A</span>{64}</div>
<div class="line">  &lt;/<span class="keywordtype">poly_arch</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">reference_Nbeads</span>&gt;</div>
<div class="line">    64</div>
<div class="line">  &lt;/<span class="keywordtype">reference_Nbeads</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">poly_arch</span>&gt;</div>
<div class="line">    100 <span class="keyword">A</span>{5}(<span class="stringliteral">&#39;Qe&#39;</span>{5}(<span class="keyword">B</span>{5}){5}){5}</div>
<div class="line">  &lt;/<span class="keywordtype">poly_arch</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">lxyz</span>&gt;</div>
<div class="line">    10.4 11.9 12.5</div>
<div class="line">  &lt;/<span class="keywordtype">lxyz</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">nxyz</span>&gt;</div>
<div class="line">    4 5 6</div>
<div class="line">  &lt;/<span class="keywordtype">nxyz</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">area51</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">point_cloud</span>&gt;</div>
<div class="line">      1 2 3 1</div>
<div class="line">    &lt;/<span class="keywordtype">point_cloud</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">box</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">point</span>&gt;0 1 2&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">point</span>&gt;1 2 3&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">value</span>&gt;1&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">box</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">cylinder</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">point</span>&gt;0 0 0&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">point</span>&gt;1 2 3&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">radius</span>&gt;2&lt;/<span class="keywordtype">radius</span>&gt;&lt;<span class="keywordtype">value</span>&gt;1&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">cylinder</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">sphere</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">point</span>&gt;1 2 3&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">radius</span>&gt;2&lt;/<span class="keywordtype">radius</span>&gt;&lt;<span class="keywordtype">value</span>&gt;1&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">sphere</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">area51</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">external_field</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">point_cloud</span>&gt;</div>
<div class="line">      0 0 0 -11.5 13.42</div>
<div class="line">    &lt;/<span class="keywordtype">point_cloud</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">cylinder</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">point</span>&gt;0 0 0&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">point</span>&gt;1 2 3&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">radius</span>&gt;2&lt;/<span class="keywordtype">radius</span>&gt;&lt;<span class="keywordtype">value</span>&gt;-0.5 0.5&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">cylinder</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">external_field</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">polyconversion</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">      1</div>
<div class="line">    &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">box</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">point</span>&gt;0 1 2&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">point</span>&gt;1 2 3&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">value</span>&gt;0&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">box</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">cylinder</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">point</span>&gt;0 0 0&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">point</span>&gt;1 2 3&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">radius</span>&gt;2&lt;/<span class="keywordtype">radius</span>&gt;&lt;<span class="keywordtype">value</span>&gt;2&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">cylinder</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">conversion_list</span>&gt;</div>
<div class="line">      1 2 0</div>
<div class="line">      2 1 1</div>
<div class="line">      1 2 1</div>
<div class="line">    &lt;/<span class="keywordtype">conversion_list</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">conversion_rate</span>&gt;</div>
<div class="line">        0.002</div>
<div class="line">        0.2</div>
<div class="line">        0.008</div>
<div class="line">    &lt;/<span class="keywordtype">conversion_rate</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">density_dependency</span>&gt;</div>
<div class="line">        0 1 0</div>
<div class="line">        0 0 0</div>
<div class="line">        1 3 0</div>
<div class="line">    &lt;/<span class="keywordtype">density_dependency</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">polyconversion</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">hamiltonian</span>&gt;</div>
<div class="line">    <span class="keyword">SCMF1</span></div>
<div class="line">  &lt;/<span class="keywordtype">hamiltonian</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">analysis</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Re</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 500 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">end_mono</span>&gt;</div>
<div class="line">  0 4</div>
<div class="line">  0 127</div>
<div class="line">  0 5</div>
<div class="line">      &lt;/<span class="keywordtype">end_mono</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">Re</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Rg</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 500 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">Rg</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">density_var</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 500 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">density_var</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">bond_anisotropy</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 500 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">bond_anisotropy</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">acc_ratio</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 500 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">acc_ratio</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">MSD</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 500 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">MSD</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">dump</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 50000 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">dump</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">density_field</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 5000 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">compression</span>&gt; <span class="keyword">gzip</span> &lt;/<span class="keywordtype">compression</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">density_field</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">non_bonded_energy</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 5000&lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">non_bonded_energy</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">bonded_energy</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 5000&lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">bonded_energy</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">dynamical_structure_factor</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 50000 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">q</span>&gt;0.1 1 5&lt;/<span class="keywordtype">q</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">dynamical_structure_factor</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">static_structure_factor</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 50000 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">q</span>&gt;0.1 1 5&lt;/<span class="keywordtype">q</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">static_structure_factor</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">analysis</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">cm_a</span>&gt;</div>
<div class="line">      0 1.0 1.0 20</div>
<div class="line">    &lt;/<span class="keywordtype">cm_a</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">density_weights</span>&gt;</div>
<div class="line">      <span class="keyword">B</span> 1.5</div>
<div class="line">    &lt;/<span class="keywordtype">density_weights</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">mobility_modifier</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">type</span>&gt;</div>
<div class="line">  <span class="keyword">MULLER_SMITH_MOBILITY</span></div>
<div class="line">      &lt;/<span class="keywordtype">type</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">param</span>&gt;</div>
<div class="line">  1 2 3 4</div>
<div class="line">      &lt;/<span class="keywordtype">param</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">poly_type_mc_freq</span>&gt;</div>
<div class="line">  4 5 6 7</div>
<div class="line">      &lt;/<span class="keywordtype">poly_type_mc_freq</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">mobility_modifier</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">soma</span>&gt;</div>
</div><!-- fragment --><p> In the following we briefly discuss the additional tags, that are used here:</p>
<ul>
<li><div class="fragment"><div class="line">&lt;equivalent_particle_types&gt;</div>
</div><!-- fragment --> In case you need more types to describe your bond types than you have different interaction parameter between particles, you can specify that certain types are treated as a single particle type, but for the bond structure they are still distinguished.<br  />
 The syntax is line based and all listed monomer types are treated as equivalent.</li>
<li><div class="fragment"><div class="line">&lt;harmonicvariablescale&gt; </div>
</div><!-- fragment --> For bonds with type HARMONICVARIABLESCALE you can set an individual factor to scale bond length with respect to the "normal" harmonic bonds. Actually, the energy is scaled with the factor, so setting it to 2 halves the length of the HARMONICVARIABLESCALE bonds.</li>
<li><div class="fragment"><div class="line">&lt;cm_a&gt; </div>
</div><!-- fragment --> Center of mass mobility of the polymer types. If this tag is specified in addition to normal Monte-Carlo moves, simple center of mass Monte-Carlo moves are applied. The data of the tag is float value for each polymer quantifying its center of mass mobility.</li>
<li><div class="fragment"><div class="line">&lt;area51&gt;</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>area51 applies always for all types. If after the summation on the grid a grid site has a value &lt;= 0 it is cropped to 0 and means accessible. Value bigger the 0 are cropped to 1 and mean forbidden area.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The coordinates specified for all GridObjects are in grid units, not in units of Re. That includes &lt;point&gt; tags and &lt;radius&gt; tags. Your input has to be integer, except &lt;radius&gt;.</dd></dl>
This tag helps you to specify forbidden areas for the monomers on your grid. This can be useful if you want to simulate in confinements or you don't want to you periodic boundary conditions. For this purpose 4 different GridObject are available.<ul>
<li><div class="fragment"><div class="line">&lt;point_cloud&gt;</div>
</div><!-- fragment --><p> The easiest object. You can specify any X,Y,Z grid site and assign it a value.<br  />
 The syntax is line base and expects first "x y z" and than a list of values. Each value applies for a type.</p>
<dl class="section note"><dt>Note</dt><dd>The values per type refer to type ids rather than types. So compare the script output with your assumption of type/type id mapping.</dd></dl>
</li>
<li><div class="fragment"><div class="line">&lt;box&gt;</div>
</div><!-- fragment --> is a rectangular box. The syntax is equivalent to povray, except that SOMA uses a right-handed coordinate system instead of povray left-hand one. So with the two <div class="fragment"><div class="line">&lt;point&gt; </div>
</div><!-- fragment --> tags two opposite edges are specified. The <div class="fragment"><div class="line">&lt;value&gt; </div>
</div><!-- fragment --> tag captures the values for each type.</li>
<li><div class="fragment"><div class="line">&lt;cylinder&gt; </div>
</div><!-- fragment --> Defines a cylinder in space. The two points define the two centers of the end circles and a radius is specified. Again this is equivalent to povray.</li>
<li><div class="fragment"><div class="line">&lt;sphere&gt; </div>
</div><!-- fragment --> Is a sphere in space and is defined by its center and a radius.</li>
</ul>
</li>
<li><div class="fragment"><div class="line">&lt;external_field&gt; </div>
</div><!-- fragment --> allows to apply any external field to the grid per monomer type. The units are in <picture><source srcset="form_37_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ k_B T$" src="form_37.png"/></picture>. The objects you can define are equivalent to the ones of "area51". All values of a grid site are summed up.<ul>
<li><div class="fragment"><div class="line">&lt;time&gt; </div>
</div><!-- fragment --> allows time dependency of any external field expanded as trigonometry series.<ul>
<li><div class="fragment"><div class="line">&lt;period&gt; </div>
</div><!-- fragment --> is the period of the time dependent external field.</li>
<li><div class="fragment"><div class="line">&lt;cos&gt; </div>
</div><!-- fragment --> is the array containing the prefactor of the cosine series.</li>
<li><div class="fragment"><div class="line">&lt;sin&gt; </div>
</div><!-- fragment --> is the array containing the prefactor of the sine series. <dl class="section note"><dt>Note</dt><dd>Objects that leave the grid are mapped back via periodic boundary conditions.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
<li><div class="fragment"><div class="line">&lt;polyconversion&gt; </div>
</div><!-- fragment --> allows to define zones where the type of a polymer can be switched. If the center of mass is inside of one of the so defined zones its type is switched according to the switching rules. The definition of these rules and how the switching rules are defined is implemented via 5(3 required ones) different kinds of subtags in the XML. <dl class="section warning"><dt>Warning</dt><dd>This feature can only be used with the compile option ENABLE_MONOTYPE_CONVERSION turned off.<ul>
<li><div class="fragment"><div class="line">&lt;DeltaMC&gt; </div>
</div><!-- fragment --> defines the frequency where the RCMs are checked and the rules applied. -<div class="fragment"><div class="line">&lt;cylinder&gt; &lt;box&gt; &lt;sphere&gt; &lt;point_cloud&gt; </div>
</div><!-- fragment --> work exactly as with area51 or external field. They define the zone where the switching rules are applied. The value has only one entry and defines the switching rules for that reason. To be precise: the value indicates the starting index for the <div class="fragment"><div class="line">&lt;conversion_list&gt; </div>
</div><!-- fragment -->. For example a 0 means to start reading at the beginning of that list. The user may define multiple zones with different indices. If zones overlap, the last zone overwrites the previous index value.</li>
<li><div class="fragment"><div class="line">&lt;conversion_list&gt; </div>
</div><!-- fragment --> defines the reactions. There are always 3 numbers. The first defines the original polymer type the educt of the reaction. The second defines the product of the reaction. Both have to fulfill the restriction, that they enumerate valid polymer types. In addition, the number of beads between input and output must be the same. The number is read as boolean and indicates if there is another reaction. If it is false (0), the next line is also applied for the currect reaction zone cell. Otherwise no further reactions are applied.</li>
<li><div class="fragment"><div class="line">&lt;conversion_rate&gt; </div>
</div><!-- fragment --> defines the reactions rates. It is always a single float per line/reaction and gives the probability to convert per conversion step. This is optional and if it is not given all polymers are converted.</li>
<li><div class="fragment"><div class="line">&lt;density_dependency&gt; </div>
</div><!-- fragment --> defines on which monomer type densities the final conversion probability depends on. This is optional. For each conversion it is a list of n_types floats. Given the density-dependency-list "1 0 3" and rate "0.001" the final conversion probability will be $p = 0.001 \cdot \phi_0 \cdot \phi_2^3$.</li>
</ul>
</dd></dl>
</li>
<li><div class="fragment"><div class="line">&lt;density_weights&gt; </div>
</div><!-- fragment --> Weight the beads differently as a function of their type. (Multiplication of <picture><source srcset="form_8_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\phi_i$" src="form_8.png"/></picture>) The default weight is 1 for each type. The weights are automatically normalized such that the sum of the weights equals the number of types in the system. The normalization assures that the part of the hamiltonian that restrains the density fluctuations can compare to the total density to 1. Weights of 0 are possible, but probably not recommended. All weights zero or negative weights are obviously not an option. <dl class="section warning"><dt>Warning</dt><dd>It is recommended to use the the SCMF1 hamiltonian, since the SCFM0 expects a unit density implicitly in the <picture><source srcset="form_38_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ \chi N$" src="form_38.png"/></picture> -term.</dd></dl>
</li>
<li><div class="fragment"><div class="line">&lt;mobility_modifier&gt; </div>
</div><!-- fragment --><p> There are two option here and both can be used simultaneously. The first option is to vary the MC frequency as a function polymer type. </p><div class="fragment"><div class="line">&lt;poly_type_mc_freq&gt; </div>
</div><!-- fragment --><p> This tag expects a list of integer frequencies. </p><div class="fragment"><div class="line">time % freq == 0 </div>
</div><!-- fragment --><p> is the condition that an MC move is performed. The list has to have as many entries as polymer types in the configuration.</p>
<p class="startli">The second option is to choose different density dependent: Allows the modification of mobility as a function of the density surrounding the particles. This is achieved by multiplying a modification factor to the acceptance probabilty. This factor can only be in the range [0,1] and must fulfill detailed balance. Unfortunately, this can only slow particles down. At the moment two different types are implemented and to be specified with the </p><div class="fragment"><div class="line">type </div>
</div><!-- fragment --><p> tag.</p><ul>
<li><div class="fragment"><div class="line"><a class="code hl_enumvalue" href="soma__util_8h.html#af9e1b45cd116d555eabb6c261ebecdbca2ae21ac2573cf346fc5e1e119855fe0b">DEFAULT_MOBILITY</a> </div>
<div class="ttc" id="asoma__util_8h_html_af9e1b45cd116d555eabb6c261ebecdbca2ae21ac2573cf346fc5e1e119855fe0b"><div class="ttname"><a href="soma__util_8h.html#af9e1b45cd116d555eabb6c261ebecdbca2ae21ac2573cf346fc5e1e119855fe0b">DEFAULT_MOBILITY</a></div><div class="ttdeci">@ DEFAULT_MOBILITY</div><div class="ttdoc">Default unchanged mobility. pacc multiplied with 1. Always.</div><div class="ttdef"><b>Definition:</b> soma_util.h:49</div></div>
</div><!-- fragment --> no modification (default)</li>
<li><div class="fragment"><div class="line"><a class="code hl_enumvalue" href="soma__util_8h.html#af9e1b45cd116d555eabb6c261ebecdbca73b6a328b2c8bba36b8de4fdea8b1eed">MULLER_SMITH_MOBILITY</a> </div>
<div class="ttc" id="asoma__util_8h_html_af9e1b45cd116d555eabb6c261ebecdbca73b6a328b2c8bba36b8de4fdea8b1eed"><div class="ttname"><a href="soma__util_8h.html#af9e1b45cd116d555eabb6c261ebecdbca73b6a328b2c8bba36b8de4fdea8b1eed">MULLER_SMITH_MOBILITY</a></div><div class="ttdeci">@ MULLER_SMITH_MOBILITY</div><div class="ttdef"><b>Definition:</b> soma_util.h:50</div></div>
</div><!-- fragment --> The mobility depends on the density in the current grid cell. <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/polb.20385">https://onlinelibrary.wiley.com/doi/abs/10.1002/polb.20385</a> Equation 33 and 34. And Equation 20. The modifier is calculated as follows: <picture><source srcset="form_39_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ m(r) = \frac{1}{\sum_{\alpha} a_\alpha \phi_\alpha(r) + b_\alpha \phi^2_\alpha (r)} $" src="form_39.png"/></picture> <picture><source srcset="form_40_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ a_\alpha $" src="form_40.png"/></picture> and <picture><source srcset="form_41_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ b_\alpha $" src="form_41.png"/></picture> are parameters to modify the result, <picture><source srcset="form_42_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ \alpha $" src="form_42.png"/></picture> describes the particle type. Afterwards <picture><source srcset="form_43_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ m $" src="form_43.png"/></picture> is clipped to the interval <picture><source srcset="form_44_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ [0,1]$" src="form_44.png"/></picture>. Negative values are mapped onto 1 instead of 0. These parameter are specified as a linear list <picture><source srcset="form_45_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ a_A, a_B, \dots, b_A, b_B \dots $" src="form_45.png"/></picture> for the required tag <div class="fragment"><div class="line">param </div>
</div><!-- fragment -->. The length of this list must be 2 * n_types.</li>
<li><div class="fragment"><div class="line"><a class="code hl_enumvalue" href="soma__util_8h.html#af9e1b45cd116d555eabb6c261ebecdbca51f0ad98f794c55a982f7416a2332c7e">TANH_MOBILITY</a> </div>
<div class="ttc" id="asoma__util_8h_html_af9e1b45cd116d555eabb6c261ebecdbca51f0ad98f794c55a982f7416a2332c7e"><div class="ttname"><a href="soma__util_8h.html#af9e1b45cd116d555eabb6c261ebecdbca51f0ad98f794c55a982f7416a2332c7e">TANH_MOBILITY</a></div><div class="ttdeci">@ TANH_MOBILITY</div><div class="ttdoc">Mobility reduction with the shape .</div><div class="ttdef"><b>Definition:</b> soma_util.h:52</div></div>
</div><!-- fragment --> The mobility is controlled via a sharp tanh tranistion. In contrast to MULLER_SMITH_MOBILITY it is possible to define one set of parameters for each type of the moving particle <picture><source srcset="form_46_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$i$" src="form_46.png"/></picture>. The equation is <picture><source srcset="form_47_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ m_i(\{\phi_j\}) = 1/2 \left( 1 + \tanh\left(\frac{\phi_{0,i} - \sum_j a_{ij} \phi_j}{\Delta \phi_{i}}\right)\right) $" src="form_47.png"/></picture>. In total this equation requires <picture><source srcset="form_48_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ 2*n_{types} + n_{types}^2 $" src="form_48.png"/></picture> parameters, the order in which the parameters are expected is <picture><source srcset="form_49_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\phi_{0,i}$" src="form_49.png"/></picture>, <picture><source srcset="form_50_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\Delta \phi_i$" src="form_50.png"/></picture>, and <picture><source srcset="form_51_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$a_{i,j}$" src="form_51.png"/></picture>. The parameters are can be specified in flat format, or in vector <picture><source srcset="form_49_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\phi_{0,i}$" src="form_49.png"/></picture>, vector <picture><source srcset="form_50_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$\Delta \phi_i$" src="form_50.png"/></picture>, and matrix <picture><source srcset="form_51_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$a_{i,j}$" src="form_51.png"/></picture> format, because white spaces are ignored. It is not possible to leave out any parameter specified.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="monoconversion"></a>
Using Monomer Type Conversions</h2>
<p >To use monomer type conversions/ reactions, the compile option </p><div class="fragment"><div class="line">ENABLE_MONOTYPE_CONVERSION </div>
</div><!-- fragment --><p> must be turned on. For this let's look at a final simple xml-file that shows the use.</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;UTF-8&quot;</span> <span class="keyword">standalone</span>=<span class="stringliteral">&quot;yes&quot;</span>?&gt;</div>
<div class="line">&lt;<span class="keywordtype">soma</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;0.2.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">interactions</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">kappaN</span>&gt;</div>
<div class="line">      30</div>
<div class="line">    &lt;/<span class="keywordtype">kappaN</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">chiN</span>&gt;</div>
<div class="line">      <span class="keyword">A</span> <span class="keyword">B</span> 20</div>
<div class="line">      <span class="keyword">A</span> <span class="keyword">C</span> 10</div>
<div class="line">      <span class="keyword">B</span> <span class="keyword">C</span> 0</div>
<div class="line">    &lt;/<span class="keywordtype">chiN</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">bonds</span>&gt;</div>
<div class="line">    <span class="keyword">A</span> <span class="keyword">A</span>  <span class="keyword">harmonic</span></div>
<div class="line">    <span class="keyword">A</span> <span class="keyword">B</span>  <span class="keyword">harmonic</span></div>
<div class="line">    <span class="keyword">B</span> <span class="keyword">B</span>  <span class="keyword">harmonic</span></div>
<div class="line">    <span class="keyword">A</span> <span class="keyword">C</span>  <span class="keyword">harmonic</span></div>
<div class="line">    <span class="keyword">B</span> <span class="keyword">C</span>  <span class="keyword">harmonic</span></div>
<div class="line">    <span class="keyword">C</span> <span class="keyword">C</span>  <span class="keyword">harmonic</span></div>
<div class="line">    &lt;/<span class="keywordtype">bonds</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">interactions</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">A</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">dt</span>&gt;</div>
<div class="line">    0.17</div>
<div class="line">    &lt;/<span class="keywordtype">dt</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">A</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">time</span>&gt;</div>
<div class="line">    0</div>
<div class="line">  &lt;/<span class="keywordtype">time</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">reference_Nbeads</span>&gt;</div>
<div class="line">    64</div>
<div class="line">  &lt;/<span class="keywordtype">reference_Nbeads</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">lxyz</span>&gt;</div>
<div class="line">    1.677 0.8385 0.8385</div>
<div class="line">  &lt;/<span class="keywordtype">lxyz</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">nxyz</span>&gt;</div>
<div class="line">    12 6 6</div>
<div class="line">  &lt;/<span class="keywordtype">nxyz</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">poly_arch</span>&gt;</div>
<div class="line">    120 <span class="keyword">A</span>{32}<span class="keyword">B</span>{32}</div>
<div class="line">  &lt;/<span class="keywordtype">poly_arch</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">monoconversion</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">      2</div>
<div class="line">    &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">box</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">point</span>&gt;0 1 2&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">point</span>&gt;1 2 3&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">value</span>&gt;0&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">box</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">cylinder</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">point</span>&gt;0 0 0&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">point</span>&gt;1 2 3&lt;/<span class="keywordtype">point</span>&gt;&lt;<span class="keywordtype">radius</span>&gt;2&lt;/<span class="keywordtype">radius</span>&gt;&lt;<span class="keywordtype">value</span>&gt;2&lt;/<span class="keywordtype">value</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">cylinder</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">conversion_list</span>&gt;</div>
<div class="line">      <span class="keyword">B</span> <span class="keyword">A</span> 0</div>
<div class="line">      <span class="keyword">A</span> <span class="keyword">B</span> 1</div>
<div class="line">      <span class="keyword">A</span> <span class="keyword">C</span> 1</div>
<div class="line">    &lt;/<span class="keywordtype">conversion_list</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">conversion_rate</span>&gt;</div>
<div class="line">        0.002</div>
<div class="line">        0.05</div>
<div class="line">        0.008</div>
<div class="line">    &lt;/<span class="keywordtype">conversion_rate</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">density_dependency</span>&gt;</div>
<div class="line">        0 1 0</div>
<div class="line">        0 0 0</div>
<div class="line">        1 3 0</div>
<div class="line">    &lt;/<span class="keywordtype">density_dependency</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">block_size</span>&gt;</div>
<div class="line">        4</div>
<div class="line">    &lt;/<span class="keywordtype">block_size</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">monoconversion</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">analysis</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">monomer_type_fraction</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">DeltaMC</span>&gt; 2000 &lt;/<span class="keywordtype">DeltaMC</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">tested_polymer</span>&gt; 0 &lt;/<span class="keywordtype">tested_polymer</span>&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">monomer_type_fraction</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">analysis</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">soma</span>&gt;</div>
</div><!-- fragment --><p >The use is similar to the &lt;polyconversion&gt;-tag. Let's go through the usage:</p><ul>
<li><div class="fragment"><div class="line">&lt;monoconversion&gt; </div>
</div><!-- fragment --> allows to define zones where the type of a monomer (or blocks of monomers) can be switched. If the bead (center of mass of a block) is inside of one of the so defined zones its type is switched according to the switching rules. The definition of these rules and how the switching rules are defined is implemented via 6(3 required ones) different kinds of subtags in the XML.<ul>
<li><div class="fragment"><div class="line">&lt;DeltaMC&gt; </div>
</div><!-- fragment --> defines the frequency where the RCMs are checked and the rules applied. -<div class="fragment"><div class="line">&lt;cylinder&gt; &lt;box&gt; &lt;sphere&gt; &lt;point_cloud&gt; </div>
</div><!-- fragment --> work exactly as with area51 or external field. They define the zone where the switching rules are applied. The value has only one entry and defines the switching rules for that reason. To be precise: the value indicates the starting index for the <div class="fragment"><div class="line">&lt;conversion_list&gt; </div>
</div><!-- fragment -->. For example a 0 means to start reading at the beginning of that list. The user may define multiple zones with different indices. If zones overlap, the last zone overwrites the previous index value.</li>
<li><div class="fragment"><div class="line">&lt;conversion_list&gt; </div>
</div><!-- fragment --> defines the reactions. There are always 3 entries. The first defines the original monomer type, the educt of the reaction (by the name of the monomer type). The second defines the product of the reaction. Both have to fulfill the restriction, that they give a valid monomer type. The number is read as boolean and indicates if there is another reaction. If it is false (0), the next line is also applied for the currect reaction zone cell. Otherwise no further reactions are applied.</li>
<li><div class="fragment"><div class="line">&lt;conversion_rate&gt; </div>
</div><!-- fragment --> defines the reactions rates. It is always a single float per line/reaction and gives the (raw) probability to convert per conversion step. This is optional and if it is not given all educt monomers are converted with probability 1.</li>
<li><div class="fragment"><div class="line">&lt;density_dependency&gt; </div>
</div><!-- fragment --> defines on which monomer type densities the final conversion probability depends on. This is optional. For each conversion it is a list of n_types floats. Given the density-dependency-list "1 0 3" and rate "0.001" the final conversion probability will be $p = 0.001 \cdot \phi_0 \cdot \phi_2^3$.</li>
<li><div class="fragment"><div class="line">block_size </div>
</div><!-- fragment --> defines the size of monomer blocks that are converted simulatneously. In this example, the chains of length N=64 are devided into 16 blocks of size 4. It is up to the user to ensure that all polymer architectures that this might apply to are commensurate.</li>
</ul>
</li>
</ul>
<p >There is one more possible observable that can be chosen: The </p><div class="fragment"><div class="line">&lt;monomer_type_fraction&gt; </div>
</div><!-- fragment --><p> allows to analyse the bead type distribution for a given polymer. The following subtags are required:</p><ul>
<li><div class="fragment"><div class="line">&lt;DeltaMC&gt; </div>
</div><!-- fragment --> defines the frequency at which the polymer's type distribution is calculated</li>
<li><div class="fragment"><div class="line">&lt;tested_polymer&gt; </div>
</div><!-- fragment --> gives the polymer that is tested. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 7 2023 16:51:26 for My Project by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
