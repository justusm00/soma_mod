<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Features of SOMA</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Features of SOMA </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >All implemented features of SOMA are compiled on this page on a list. In addition, a short description how to enable the features is given.</p>
<h1><a class="anchor" id="list"></a>
List of All Features</h1>
<ul>
<li>Full implementation of the model.</li>
<li><p class="startli">Two different levels of parallelism for iteration of all beads on the GPU:</p><ul>
<li>Polymer level: The parallelism is entirely on the level of polymers. This ensures detailed balance and known Rouse dynamics in combination with smart Monte-Carlo moves.</li>
<li>Independent Set level: In addition to the polymer level. Independent beads inside a single polymer are moved in parallel. To do so, at the initialization sets of independent beads are calculated. Each Monte-Carlo move selects a random permutation of these sets and iterates the sets sequentially. This can improve the performance for GPU simulation significantly. Instead of detailed balance this move fulfills only global balance and the dynamics is a little bit different, compared to the other iteration scheme.</li>
</ul>
<p class="startli">Choose the "--iteration-alg" flag to select the iteration algorithm of SOMA. Default is polymer iteration.</p>
</li>
<li>Two options to calculate the independent sets.<ul>
<li>SIMPLE heuristic to obtain the fewest number of balanced sets. O(N^2) where N is the number of beads in a molecule. Suitable for simple molecules (like linear chains).</li>
<li>FIXED-N-SETS set generation that scales like O(N), but uses m+1 sets. m is max number of bonds a bead has. Suitable for large molecules like networks.</li>
</ul>
</li>
<li>Two non-bonded hamiltonian available (SCMF0 and SCMF1), for details refer <a class="el" href="mesh_8c.html#a618d71a3f05754263864a225388aa1cb">update_omega_fields_scmf0()</a> and <a class="el" href="mesh_8c.html#ac653af526188b98300934b90ea760073">update_omega_fields_scmf1()</a>.</li>
<li>Documentation via Doxygen. Almost all executables offer a help page.</li>
<li>Simple random displacement MC.</li>
<li>Smart Monte-Carlo moves.</li>
<li>Distributed computation via MPI.</li>
<li>CPU and GPU implementations via OpenACC.</li>
<li>Shared memory CPU parallelism via OpenMP.</li>
<li>Human readable xml input files.</li>
<li>XDMF file conversion for analytics of density fields as an interface to paraview.</li>
<li>Forbidden areas (area51) for confinement or non-periodic boundary conditions.</li>
<li>Exact non passing area51.</li>
<li>External fields.</li>
<li>3 different random number generators.</li>
<li>Walltime management with environment variable SOMA_WALLTIME_STOP. Set up SOMA to finish in 23 hours and 45 minutes independent of the simulation progress with "export SOMA_WALLTIME_STOP=$((`date +%s` + 23 * 3600 - 15 * 60))". The final configuration is written in the 'normal' output file and can be used to restart the simulation.</li>
<li>Signal management is deprecated. Use the environment variable SOMA_WALLTIME_STOP instead. A running process can be stopped by attaching (with gdb) to the process and change the variable.</li>
<li>Checkpointing: User specified interval to "dump" full configurations.</li>
<li>Online output file compression. (gzip for density_field).</li>
<li>Automatic random configuration generation.</li>
<li>Human readable updating of existing configurations.</li>
<li>Scripts to handle hdf5 output data.</li>
<li>Conversion tools to support the old data format.</li>
<li>Online run estimation time output.</li>
<li>Center of mass simple Monte-Carlo algorithm for full molecule diffusion.</li>
<li>Doxygen API documentation.</li>
<li>Domain decomposition as a third layer of parallelism.</li>
<li>Time dependent external field.</li>
<li>The user can define reaction zones, where one polymer type is converted into another.</li>
<li>Self documentation. SOMA is storing a string describing each simulation run. This accumulative stored in the configuration and analysis file. This allows to track this full evolution of a simulation, even if the user changes parameter in between run. In addition, SOMA allows the specification of a purpose for each simulation step e.g. "equilibration", "quench", "measurement" etc..</li>
<li>Enable density dependent mobility modifiers by rejecting additional MC moves. The reference for this method is: <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/polb.20385">https://onlinelibrary.wiley.com/doi/abs/10.1002/polb.20385</a> Equation 33 and 34. And Equation 20. 2nd method implemented based on the tanh and different for each type.</li>
<li>Implementation of full CUDA aware MPI for domain decoposition and "normal". In addition the NCCL library for device reduction has been implemented as well to gain full speed ups from the direct device communication such that no memory transfer is needed. Both features have to be manually activated via CMake options the default is off.</li>
<li>Enable different MC frequencies for different polymer types for a contrast in mobility.</li>
<li><a class="el" href="structPolymer.html" title="Polymer information.">Polymer</a> type conversions with (monomer-type)-density dependent rates</li>
<li><a class="el" href="structMonomer.html" title="Monomer struct contains spatial position and type.">Monomer</a> type conversions with (monomer-type)-density dependent rates</li>
</ul>
<h2><a class="anchor" id="observables"></a>
Available Observables</h2>
<p >Observables are averaged in a single time frame per polymer type. The radius of gyration for example generates 4 values for each polymer type. Suppose you simulated 2 polymer types in 5 time frames. The output matrix in the hdf5 has than the dimensions 5x8, the first dimension is counting the time frames.</p>
<ul>
<li><picture><source srcset="form_0_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ Re $" src="form_0.png"/></picture> Average squared distance of the first and last (in memory) monomer of a polymer. In some topologies this might be the end-to-end distance of the polymer. 4 values per polymer type: <picture><source srcset="form_20_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ Re^2 Re_x^2 Re_y^2 Re_z^2 $" src="form_20.png"/></picture></li>
<li>The radius of gyration <picture><source srcset="form_21_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ R_g $" src="form_21.png"/></picture>. 4 values per polymer type: <picture><source srcset="form_22_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ Rgx^2 Rg_x^2 Rg_y^2 Rg_z^2 $" src="form_22.png"/></picture></li>
<li>Mean squared displacement. 8 values per polymer_type: <picture><source srcset="form_23_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ g_{1x} g_{1y} g_{1z} g_{1} g_{3x} g_{3y} g_{3z} g_{3}$" src="form_23.png"/></picture></li>
<li>Stress tensor of the bond stresses. 6 values per polymer type <picture><source srcset="form_24_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ \sigma_{xx} \sigma_{yy} \sigma_{zz} \sigma_{xy} \sigma_{xz} \sigma_{yz}$" src="form_24.png"/></picture></li>
<li>Output of the density-field. For each particle type a matrix of the grid dimension.</li>
<li>The acceptance ratio of the Monte-Carlo move. (Normal single bead moves.) <dl class="section warning"><dt>Warning</dt><dd>Because of reduction problems in the GPU implementation. OpenACC builds return -1.</dd></dl>
</li>
<li>The acceptance ratio of the Monte-Carlo move. (Center of Mass moves.) <dl class="section warning"><dt>Warning</dt><dd>Because of reduction problems in the GPU implementation. OpenACC builds return -1.</dd></dl>
</li>
<li>Density variation. Variance of the density fields compared to the last analysed step.</li>
<li>Non-Bonded energy: For each particle type <picture><source srcset="form_25_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ k $" src="form_25.png"/></picture>: <picture><source srcset="form_26_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ E_k = \sum_{c}^{N_cells} \omega_k(c) \cdot N_k(c) $" src="form_26.png"/></picture>, where <picture><source srcset="form_27_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ N_k(c) $" src="form_27.png"/></picture> denotes the number of particles of type <picture><source srcset="form_28_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$k$" src="form_28.png"/></picture> in cell <picture><source srcset="form_29_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$c$" src="form_29.png"/></picture>.</li>
<li>Non-Bonded energy: For each bond type <picture><source srcset="form_25_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ k $" src="form_25.png"/></picture>: <picture><source srcset="form_30_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ E_k = \sum_{&lt;ij&gt;} V_k(r_{ij}) \delta_{i&lt;j} $" src="form_30.png"/></picture>, where <picture><source srcset="form_31_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ &lt;ij&gt; $" src="form_31.png"/></picture> denotes all bonded (of bond type <picture><source srcset="form_25_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ k $" src="form_25.png"/></picture>) particles <picture><source srcset="form_32_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ i,j$" src="form_32.png"/></picture>.</li>
<li>Static-Structure-Factor: For each polymer_type: <picture><source srcset="form_33_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ S_q = \frac{1}{N}\sum_{&lt;kj&gt;} \exp(i\vec{q}(\vec{r}_k(t)-\vec{r}_j(t)))$" src="form_33.png"/></picture>, where <picture><source srcset="form_34_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ &lt;kj&gt; $" src="form_34.png"/></picture> denotes all monomers in a chain and <picture><source srcset="form_35_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ N $" src="form_35.png"/></picture> is the chain length.</li>
<li>Dynamical-Structure-Factor: For each polymer_type: <picture><source srcset="form_36_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ S_q(t) = \frac{1}{N}\sum_{&lt;kj&gt;} \exp(i\vec{q}(\vec{r}_k(0)-\vec{r}_j(t)))$" src="form_36.png"/></picture>, where <picture><source srcset="form_34_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ &lt;kj&gt; $" src="form_34.png"/></picture> denotes all monomers in a chain and <picture><source srcset="form_35_dark.png" media="(prefers-color-scheme: dark)"/><img class="formulaInl" alt="$ N $" src="form_35.png"/></picture> is the chain length.</li>
<li>Monomer-type fraction: (For use of monomer type conversions) For a specific polymer type test the distribution of monomer type fractions.</li>
</ul>
<h2><a class="anchor" id="no-features"></a>
Not Available Features</h2>
<p >If you want to implement a feature, please do not hesitate to help us. But talk to us during the process.</p>
<ul>
<li>Smoothing neighbor functions like NEIGHBOUR8 or NEIGHBOUR27, because useful physical application is rare. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 10 2023 10:47:50 for My Project by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
