\hypertarget{soma__util_8h}{}\doxysection{soma\+\_\+util.\+h File Reference}
\label{soma__util_8h}\index{soma\_util.h@{soma\_util.h}}


File collecting several helper functions.  


{\ttfamily \#include \char`\"{}soma\+\_\+config.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include \char`\"{}cmdline.\+h\char`\"{}}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include \char`\"{}bond.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}monomer.\+h\char`\"{}}\newline
Include dependency graph for soma\+\_\+util.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{soma__util_8h_a32a4badbb46923dced0bd8f2a5ec4857}\label{soma__util_8h_a32a4badbb46923dced0bd8f2a5ec4857}} 
\#define {\bfseries HDF5\+\_\+\+ERROR\+\_\+\+CHECK}(status)~if(status $<$ 0)\{fprintf(stderr, \char`\"{}ERROR\+: HDF5 \%s\+:\%s\+:\%d\+: \%d\textbackslash{}n\char`\"{},\+\_\+\+\_\+func\+\_\+\+\_\+, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+,(int)status);return status;\}
\begin{DoxyCompactList}\small\item\em Macro that helps to check and ana for hdf5 errors. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{soma__util_8h_a70469159f3c122c6708ad89b30dd812b}{HDF5\+\_\+\+ERROR\+\_\+\+CHECK2}}(status,  name)~if(status $<$ 0)\{fprintf(stderr, \char`\"{}ERROR\+: HDF5 Name\+:\%s \%s\+:\%d\+: \%d\textbackslash{}n\char`\"{},name, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+,(int)status);return status;\}
\item 
\#define \mbox{\hyperlink{soma__util_8h_a2e59523c323c1513d057e465c169ac8b}{MPI\+\_\+\+ERROR\+\_\+\+CHECK}}(status,  msg)~if(status != 0)\{fprintf(stderr, \char`\"{}ERROR\+: MPI abort Name\+: \%s \%s\+:\%d\+: \%d\textbackslash{}n\char`\"{},msg, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+,(int)status); ;exit(status);\}
\item 
\mbox{\Hypertarget{soma__util_8h_a2d7609e2b12bf5a92b4c4525ff9dcdeb}\label{soma__util_8h_a2d7609e2b12bf5a92b4c4525ff9dcdeb}} 
\#define {\bfseries MALLOC\+\_\+\+ERROR\+\_\+\+CHECK}(ptr,  size)~if( (ptr) == NULL)\{fprintf(stderr,\char`\"{}MALLOC-\/ERROR\+: \%s\+:\%d size = \%lu\textbackslash{}n\char`\"{}, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+, (uint64\+\_\+t) (size)); return -\/1;\}
\begin{DoxyCompactList}\small\item\em Macro to check and return error code if malloc failed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478}{Hamiltonian}} \{ \mbox{\hyperlink{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478a20b2507bde7a462337ec9f2f3cdd7b5f}{SCMF0}} = 0
, \mbox{\hyperlink{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478a366642b528bc5147d52a52720ba4ea71}{SCMF1}} = 1
 \}
\begin{DoxyCompactList}\small\item\em Enum to select the hamiltonian for the non-\/bonded interaction. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7}{Cartesion\+Direction}} \{ \mbox{\hyperlink{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7a58833a3110c570fb05130d40c365d1e4}{X}} = 0
, \mbox{\hyperlink{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7a5596231eabd6cf29050967d5ac83ad84}{Y}} = 1
, \mbox{\hyperlink{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7aa70478ce277ffc322f8e1e3418e07355}{Z}} = 2
 \}
\begin{DoxyCompactList}\small\item\em Enum to classify different cartesian directions. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbc}{Mobility\+Enum}} \{ \mbox{\hyperlink{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbca2ae21ac2573cf346fc5e1e119855fe0b}{DEFAULT\+\_\+\+MOBILITY}} = 0
, \mbox{\hyperlink{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbca73b6a328b2c8bba36b8de4fdea8b1eed}{MULLER\+\_\+\+SMITH\+\_\+\+MOBILITY}} = 1
, \mbox{\hyperlink{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbca51f0ad98f794c55a982f7416a2332c7e}{TANH\+\_\+\+MOBILITY}} = 2
 \}
\begin{DoxyCompactList}\small\item\em Enum to specify the different option of mobility modifier functions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
unsigned int \mbox{\hyperlink{soma__util_8h_a926cf7589ffec5ad59fae2284daba9e8}{get\+\_\+bond\+\_\+type}} (const uint32\+\_\+t info)
\item 
int \mbox{\hyperlink{soma__util_8h_a247311aa62c2f2069ee727db8cc257d5}{get\+\_\+offset}} (const int32\+\_\+t info)
\item 
unsigned int \mbox{\hyperlink{soma__util_8h_a8ec42caa056fe1198aac58b6d7a81726}{get\+\_\+end}} (const uint32\+\_\+t info)
\item 
uint32\+\_\+t \mbox{\hyperlink{soma__util_8h_a7b9cfa4d6ef084a18235ce7caf498009}{get\+\_\+info}} (const int offset, const unsigned int bond\+\_\+type, const unsigned int end)
\item 
int \mbox{\hyperlink{soma__util_8h_a9acca8fbe69dbd0197ea0ec7863a56b4}{get\+\_\+bondlist\+\_\+offset}} (const int32\+\_\+t info\+\_\+bl)
\item 
unsigned int \mbox{\hyperlink{soma__util_8h_a8525823db67a7ae687a687a639f82d35}{get\+\_\+particle\+\_\+type}} (const struct \mbox{\hyperlink{structPhase}{Phase}} $\ast$const p, const uint64\+\_\+t i, const unsigned int j)
\item 
unsigned int \mbox{\hyperlink{soma__util_8h_ab54110fb5ce1ee6f09265f6cdb9de653}{get\+\_\+particle\+\_\+type\+\_\+of\+\_\+poly\+\_\+arch}} (const uint32\+\_\+t info\+\_\+bl)
\item 
uint32\+\_\+t \mbox{\hyperlink{soma__util_8h_ae0f659a68f41e6a2a548c1ed28f7f2a4}{get\+\_\+info\+\_\+bl}} (const unsigned int offset\+\_\+bl, const unsigned int type)
\item 
int \mbox{\hyperlink{soma__util_8h_a66fa8937a2d40efd013e5fb09fb1038f}{post\+\_\+process\+\_\+args}} (struct \mbox{\hyperlink{structsom__args}{som\+\_\+args}} $\ast$args, const unsigned int world\+\_\+rank)
\begin{DoxyCompactList}\small\item\em after argument parsing of SOMA, this function interpret contradictions and warnings for the user. \end{DoxyCompactList}\item 
unsigned int \mbox{\hyperlink{soma__util_8h_a0c925bb22d932bd6c2c5ba5d308d2262}{get\+\_\+number\+\_\+bond\+\_\+type}} (const struct \mbox{\hyperlink{structPhase}{Phase}} $\ast$const p, const enum \mbox{\hyperlink{bond_8h_acb02e011150047bab1336f1cf96a627c}{Bondtype}} btype)
\begin{DoxyCompactList}\small\item\em Returns the number of bonds of specific type in the poly\+\_\+arch structure. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{soma__util_8h_a9fe35445dfd7bfd3630011c099beb42b}{reseed}} (struct \mbox{\hyperlink{structPhase}{Phase}} $\ast$const p, const unsigned int seed)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
File collecting several helper functions. 



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{soma__util_8h_a70469159f3c122c6708ad89b30dd812b}\label{soma__util_8h_a70469159f3c122c6708ad89b30dd812b}} 
\index{soma\_util.h@{soma\_util.h}!HDF5\_ERROR\_CHECK2@{HDF5\_ERROR\_CHECK2}}
\index{HDF5\_ERROR\_CHECK2@{HDF5\_ERROR\_CHECK2}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{HDF5\_ERROR\_CHECK2}{HDF5\_ERROR\_CHECK2}}
{\footnotesize\ttfamily \#define HDF5\+\_\+\+ERROR\+\_\+\+CHECK2(\begin{DoxyParamCaption}\item[{}]{status,  }\item[{}]{name }\end{DoxyParamCaption})~if(status $<$ 0)\{fprintf(stderr, \char`\"{}ERROR\+: HDF5 Name\+:\%s \%s\+:\%d\+: \%d\textbackslash{}n\char`\"{},name, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+,(int)status);return status;\}}

Macro to check for errors. An error message is printed, with linenumber and file. In addition, you can specify a specific message that is printed. \mbox{\Hypertarget{soma__util_8h_a2e59523c323c1513d057e465c169ac8b}\label{soma__util_8h_a2e59523c323c1513d057e465c169ac8b}} 
\index{soma\_util.h@{soma\_util.h}!MPI\_ERROR\_CHECK@{MPI\_ERROR\_CHECK}}
\index{MPI\_ERROR\_CHECK@{MPI\_ERROR\_CHECK}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{MPI\_ERROR\_CHECK}{MPI\_ERROR\_CHECK}}
{\footnotesize\ttfamily \#define MPI\+\_\+\+ERROR\+\_\+\+CHECK(\begin{DoxyParamCaption}\item[{}]{status,  }\item[{}]{msg }\end{DoxyParamCaption})~if(status != 0)\{fprintf(stderr, \char`\"{}ERROR\+: MPI abort Name\+: \%s \%s\+:\%d\+: \%d\textbackslash{}n\char`\"{},msg, \+\_\+\+\_\+\+FILE\+\_\+\+\_\+, \+\_\+\+\_\+\+LINE\+\_\+\+\_\+,(int)status); ;exit(status);\}}

Macro to abort MPI and print a message with you specified if status != 0. \begin{DoxyWarning}{Warning}
This macro includes \mbox{\hyperlink{mpiroutines_8c_ab8598e958dc9526f0395b46f0745a6b0}{finalize\+\_\+\+MPI()}} and exit(); 
\end{DoxyWarning}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7}\label{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7}} 
\index{soma\_util.h@{soma\_util.h}!CartesionDirection@{CartesionDirection}}
\index{CartesionDirection@{CartesionDirection}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{CartesionDirection}{CartesionDirection}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7}{Cartesion\+Direction}}}



Enum to classify different cartesian directions. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{X@{X}!soma\_util.h@{soma\_util.h}}\index{soma\_util.h@{soma\_util.h}!X@{X}}}\mbox{\Hypertarget{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7a58833a3110c570fb05130d40c365d1e4}\label{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7a58833a3110c570fb05130d40c365d1e4}} 
X&X direction. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Y@{Y}!soma\_util.h@{soma\_util.h}}\index{soma\_util.h@{soma\_util.h}!Y@{Y}}}\mbox{\Hypertarget{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7a5596231eabd6cf29050967d5ac83ad84}\label{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7a5596231eabd6cf29050967d5ac83ad84}} 
Y&Y direction. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Z@{Z}!soma\_util.h@{soma\_util.h}}\index{soma\_util.h@{soma\_util.h}!Z@{Z}}}\mbox{\Hypertarget{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7aa70478ce277ffc322f8e1e3418e07355}\label{soma__util_8h_ad163d9aa6379ff1c19531a314cf905e7aa70478ce277ffc322f8e1e3418e07355}} 
Z&Z direction. \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478}\label{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478}} 
\index{soma\_util.h@{soma\_util.h}!Hamiltonian@{Hamiltonian}}
\index{Hamiltonian@{Hamiltonian}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{Hamiltonian}{Hamiltonian}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478}{Hamiltonian}}}



Enum to select the hamiltonian for the non-\/bonded interaction. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{SCMF0@{SCMF0}!soma\_util.h@{soma\_util.h}}\index{soma\_util.h@{soma\_util.h}!SCMF0@{SCMF0}}}\mbox{\Hypertarget{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478a20b2507bde7a462337ec9f2f3cdd7b5f}\label{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478a20b2507bde7a462337ec9f2f3cdd7b5f}} 
SCMF0&Original SCMF hamiltonian. For details refer doc of \mbox{\hyperlink{mesh_8c_a618d71a3f05754263864a225388aa1cb}{update\+\_\+omega\+\_\+fields\+\_\+scmf0()}}. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{SCMF1@{SCMF1}!soma\_util.h@{soma\_util.h}}\index{soma\_util.h@{soma\_util.h}!SCMF1@{SCMF1}}}\mbox{\Hypertarget{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478a366642b528bc5147d52a52720ba4ea71}\label{soma__util_8h_a5b999d34f5aafaa8aa0bcb085bf4b478a366642b528bc5147d52a52720ba4ea71}} 
SCMF1&Alternative SCMF hamiltonian, especially for more than 2 types. For details refer doc of \mbox{\hyperlink{mesh_8c_ac653af526188b98300934b90ea760073}{update\+\_\+omega\+\_\+fields\+\_\+scmf1()}}. \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbc}\label{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbc}} 
\index{soma\_util.h@{soma\_util.h}!MobilityEnum@{MobilityEnum}}
\index{MobilityEnum@{MobilityEnum}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{MobilityEnum}{MobilityEnum}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbc}{Mobility\+Enum}}}



Enum to specify the different option of mobility modifier functions. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{DEFAULT\_MOBILITY@{DEFAULT\_MOBILITY}!soma\_util.h@{soma\_util.h}}\index{soma\_util.h@{soma\_util.h}!DEFAULT\_MOBILITY@{DEFAULT\_MOBILITY}}}\mbox{\Hypertarget{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbca2ae21ac2573cf346fc5e1e119855fe0b}\label{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbca2ae21ac2573cf346fc5e1e119855fe0b}} 
DEFAULT\+\_\+\+MOBILITY&Default unchanged mobility. pacc multiplied with 1. Always. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MULLER\_SMITH\_MOBILITY@{MULLER\_SMITH\_MOBILITY}!soma\_util.h@{soma\_util.h}}\index{soma\_util.h@{soma\_util.h}!MULLER\_SMITH\_MOBILITY@{MULLER\_SMITH\_MOBILITY}}}\mbox{\Hypertarget{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbca73b6a328b2c8bba36b8de4fdea8b1eed}\label{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbca73b6a328b2c8bba36b8de4fdea8b1eed}} 
MULLER\+\_\+\+SMITH\+\_\+\+MOBILITY&\mbox{\hyperlink{structMobility}{Mobility}} reduction factor of the shape $ m(r) = \min(1,\sum_\alpha a_\alpha \phi_\alpha(r) + \sum_alpha b_\alpha \phi_alpha^2(r)) $. With parameters a and b to be set via xml/hdf5. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TANH\_MOBILITY@{TANH\_MOBILITY}!soma\_util.h@{soma\_util.h}}\index{soma\_util.h@{soma\_util.h}!TANH\_MOBILITY@{TANH\_MOBILITY}}}\mbox{\Hypertarget{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbca51f0ad98f794c55a982f7416a2332c7e}\label{soma__util_8h_af9e1b45cd116d555eabb6c261ebecdbca51f0ad98f794c55a982f7416a2332c7e}} 
TANH\+\_\+\+MOBILITY&\mbox{\hyperlink{structMobility}{Mobility}} reduction with the shape $ M_i(\{\phi_j\}) = 1/2 \left( 1 + \tanh\left(\frac{\phi_{0,i} - \sum_j a_{ij} \phi_j}{\Delta \phi_{i}}\right)\right) $. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{soma__util_8h_a926cf7589ffec5ad59fae2284daba9e8}\label{soma__util_8h_a926cf7589ffec5ad59fae2284daba9e8}} 
\index{soma\_util.h@{soma\_util.h}!get\_bond\_type@{get\_bond\_type}}
\index{get\_bond\_type@{get\_bond\_type}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{get\_bond\_type()}{get\_bond\_type()}}
{\footnotesize\ttfamily unsigned int get\+\_\+bond\+\_\+type (\begin{DoxyParamCaption}\item[{const uint32\+\_\+t}]{info }\end{DoxyParamCaption})}

Function to extract the bond\+\_\+type for poly\+\_\+arch elements.


\begin{DoxyParams}{Parameters}
{\em info} & poly\+\_\+arch element. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Bond type in a bond list part. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Call only for bond list part of poly\+\_\+arch. 
\end{DoxyWarning}
\mbox{\Hypertarget{soma__util_8h_a9acca8fbe69dbd0197ea0ec7863a56b4}\label{soma__util_8h_a9acca8fbe69dbd0197ea0ec7863a56b4}} 
\index{soma\_util.h@{soma\_util.h}!get\_bondlist\_offset@{get\_bondlist\_offset}}
\index{get\_bondlist\_offset@{get\_bondlist\_offset}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{get\_bondlist\_offset()}{get\_bondlist\_offset()}}
{\footnotesize\ttfamily int get\+\_\+bondlist\+\_\+offset (\begin{DoxyParamCaption}\item[{const int32\+\_\+t}]{info\+\_\+bl }\end{DoxyParamCaption})}

Get the offset for the poly\+\_\+arch array to start the bond list iteration.


\begin{DoxyParams}{Parameters}
{\em info\+\_\+bl} & poly\+\_\+arch element in the \mbox{\hyperlink{structMonomer}{Monomer}} region. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Offset to start the bond list iteration. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Call only for \mbox{\hyperlink{structMonomer}{Monomer}} region of poly\+\_\+arch. 
\end{DoxyWarning}
\mbox{\Hypertarget{soma__util_8h_a8ec42caa056fe1198aac58b6d7a81726}\label{soma__util_8h_a8ec42caa056fe1198aac58b6d7a81726}} 
\index{soma\_util.h@{soma\_util.h}!get\_end@{get\_end}}
\index{get\_end@{get\_end}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{get\_end()}{get\_end()}}
{\footnotesize\ttfamily unsigned int get\+\_\+end (\begin{DoxyParamCaption}\item[{const uint32\+\_\+t}]{info }\end{DoxyParamCaption})}

Function to extract the end flag of a poly\+\_\+arch element.


\begin{DoxyParams}{Parameters}
{\em info} & poly\+\_\+arch element. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
End flag of the bond list. Stop iteration over the bond list, if it is non zero. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Call only for bond list part of poly\+\_\+arch. 
\end{DoxyWarning}
\mbox{\Hypertarget{soma__util_8h_a7b9cfa4d6ef084a18235ce7caf498009}\label{soma__util_8h_a7b9cfa4d6ef084a18235ce7caf498009}} 
\index{soma\_util.h@{soma\_util.h}!get\_info@{get\_info}}
\index{get\_info@{get\_info}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{get\_info()}{get\_info()}}
{\footnotesize\ttfamily uint32\+\_\+t get\+\_\+info (\begin{DoxyParamCaption}\item[{const int}]{offset,  }\item[{const unsigned int}]{bond\+\_\+type,  }\item[{const unsigned int}]{end }\end{DoxyParamCaption})}

Function to compose a poly\+\_\+arch element in the bond list region


\begin{DoxyParams}{Parameters}
{\em offset} & Offset to the next neighbor. \\
\hline
{\em bond\+\_\+type} & Type of the bond. \\
\hline
{\em end} & Singal end of bond list. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Element for a poly\+\_\+arch bond list region. 
\end{DoxyReturn}
\mbox{\Hypertarget{soma__util_8h_ae0f659a68f41e6a2a548c1ed28f7f2a4}\label{soma__util_8h_ae0f659a68f41e6a2a548c1ed28f7f2a4}} 
\index{soma\_util.h@{soma\_util.h}!get\_info\_bl@{get\_info\_bl}}
\index{get\_info\_bl@{get\_info\_bl}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{get\_info\_bl()}{get\_info\_bl()}}
{\footnotesize\ttfamily uint32\+\_\+t get\+\_\+info\+\_\+bl (\begin{DoxyParamCaption}\item[{const unsigned int}]{offset\+\_\+bl,  }\item[{const unsigned int}]{type }\end{DoxyParamCaption})}

Compose poly\+\_\+arch element for the


\begin{DoxyParams}{Parameters}
{\em offset\+\_\+bl} & Offset to bondlist to set. \\
\hline
{\em type} & Partile type to set. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Element for poly\+\_\+arch of the \mbox{\hyperlink{structMonomer}{Monomer}} region. 
\end{DoxyReturn}
\mbox{\Hypertarget{soma__util_8h_a0c925bb22d932bd6c2c5ba5d308d2262}\label{soma__util_8h_a0c925bb22d932bd6c2c5ba5d308d2262}} 
\index{soma\_util.h@{soma\_util.h}!get\_number\_bond\_type@{get\_number\_bond\_type}}
\index{get\_number\_bond\_type@{get\_number\_bond\_type}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{get\_number\_bond\_type()}{get\_number\_bond\_type()}}
{\footnotesize\ttfamily unsigned int get\+\_\+number\+\_\+bond\+\_\+type (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structPhase}{Phase}} $\ast$const}]{p,  }\item[{const enum \mbox{\hyperlink{bond_8h_acb02e011150047bab1336f1cf96a627c}{Bondtype}}}]{btype }\end{DoxyParamCaption})}



Returns the number of bonds of specific type in the poly\+\_\+arch structure. 


\begin{DoxyParams}{Parameters}
{\em p} & \mbox{\hyperlink{structPhase}{Phase}} of the system. \\
\hline
{\em btype} & Bondtype to count \\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
This does not count the number of bonds in the system, only which bond types are used in the polyarch structure. 
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}
Number of bonds in the poly\+\_\+arch structure. You may you that function to check if a specific bond type is present in the system. 
\end{DoxyReturn}
\mbox{\Hypertarget{soma__util_8h_a247311aa62c2f2069ee727db8cc257d5}\label{soma__util_8h_a247311aa62c2f2069ee727db8cc257d5}} 
\index{soma\_util.h@{soma\_util.h}!get\_offset@{get\_offset}}
\index{get\_offset@{get\_offset}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{get\_offset()}{get\_offset()}}
{\footnotesize\ttfamily int get\+\_\+offset (\begin{DoxyParamCaption}\item[{const int32\+\_\+t}]{info }\end{DoxyParamCaption})}

Function to extract the offset you apply to your \mbox{\hyperlink{structMonomer}{Monomer}} to get the bonded neigbour.


\begin{DoxyParams}{Parameters}
{\em info} & poly\+\_\+arch element. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Offset to apply to your \mbox{\hyperlink{structMonomer}{Monomer}} to get the bonded neighbour. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Call only for bond list part of poly\+\_\+arch. 
\end{DoxyWarning}
\begin{DoxyNote}{Note}
We use here in32\+\_\+t instead uint32\+\_\+t, because for signed values, we need to set shift correct. 
\end{DoxyNote}
\mbox{\Hypertarget{soma__util_8h_a8525823db67a7ae687a687a639f82d35}\label{soma__util_8h_a8525823db67a7ae687a687a639f82d35}} 
\index{soma\_util.h@{soma\_util.h}!get\_particle\_type@{get\_particle\_type}}
\index{get\_particle\_type@{get\_particle\_type}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{get\_particle\_type()}{get\_particle\_type()}}
{\footnotesize\ttfamily unsigned int get\+\_\+particle\+\_\+type (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structPhase}{Phase}} $\ast$const}]{p,  }\item[{const uint64\+\_\+t}]{i,  }\item[{const unsigned int}]{j }\end{DoxyParamCaption})}

Get particle type from a poly\+\_\+arch element or the \mbox{\hyperlink{structMonomer}{Monomer}} type polymer heavy struct, depending on where it is stored.


\begin{DoxyParams}{Parameters}
{\em p} & \mbox{\hyperlink{structPhase}{Phase}} \\
\hline
{\em i} & local polymer index \\
\hline
{\em j} & monomer index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Particle type of the monomer. 
\end{DoxyReturn}
\mbox{\Hypertarget{soma__util_8h_ab54110fb5ce1ee6f09265f6cdb9de653}\label{soma__util_8h_ab54110fb5ce1ee6f09265f6cdb9de653}} 
\index{soma\_util.h@{soma\_util.h}!get\_particle\_type\_of\_poly\_arch@{get\_particle\_type\_of\_poly\_arch}}
\index{get\_particle\_type\_of\_poly\_arch@{get\_particle\_type\_of\_poly\_arch}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{get\_particle\_type\_of\_poly\_arch()}{get\_particle\_type\_of\_poly\_arch()}}
{\footnotesize\ttfamily unsigned int get\+\_\+particle\+\_\+type\+\_\+of\+\_\+poly\+\_\+arch (\begin{DoxyParamCaption}\item[{const uint32\+\_\+t}]{info\+\_\+bl }\end{DoxyParamCaption})}

Get particle type from a poly\+\_\+arch element or the \mbox{\hyperlink{structMonomer}{Monomer}} region.


\begin{DoxyParams}{Parameters}
{\em info\+\_\+bl} & poly\+\_\+arch element in the \mbox{\hyperlink{structMonomer}{Monomer}} region. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Particle type of the monomer. 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Call only for \mbox{\hyperlink{structMonomer}{Monomer}} region of poly\+\_\+arch. 
\end{DoxyWarning}
\mbox{\Hypertarget{soma__util_8h_a66fa8937a2d40efd013e5fb09fb1038f}\label{soma__util_8h_a66fa8937a2d40efd013e5fb09fb1038f}} 
\index{soma\_util.h@{soma\_util.h}!post\_process\_args@{post\_process\_args}}
\index{post\_process\_args@{post\_process\_args}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{post\_process\_args()}{post\_process\_args()}}
{\footnotesize\ttfamily int post\+\_\+process\+\_\+args (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structsom__args}{som\+\_\+args}} $\ast$}]{args,  }\item[{const unsigned int}]{world\+\_\+rank }\end{DoxyParamCaption})}



after argument parsing of SOMA, this function interpret contradictions and warnings for the user. 


\begin{DoxyParams}{Parameters}
{\em args} & Argument struct to interpret. \\
\hline
{\em world\+\_\+rank} & World rank of the calling rank. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code 
\end{DoxyReturn}
\mbox{\Hypertarget{soma__util_8h_a9fe35445dfd7bfd3630011c099beb42b}\label{soma__util_8h_a9fe35445dfd7bfd3630011c099beb42b}} 
\index{soma\_util.h@{soma\_util.h}!reseed@{reseed}}
\index{reseed@{reseed}!soma\_util.h@{soma\_util.h}}
\doxysubsubsection{\texorpdfstring{reseed()}{reseed()}}
{\footnotesize\ttfamily int reseed (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structPhase}{Phase}} $\ast$const}]{p,  }\item[{const unsigned int}]{seed }\end{DoxyParamCaption})}

Reseed the random number generators.


\begin{DoxyParams}{Parameters}
{\em p} & System to reseed. \\
\hline
{\em seed} & New seed for the system. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Errorcode 
\end{DoxyReturn}
